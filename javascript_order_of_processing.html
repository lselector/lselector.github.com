<!-- saved from url=(0022)http://internet.e-mail -->
<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.51 [en]C-CCK-MCD CPT-2  (WinNT; I) [Netscape]">
   <title>test</title>
<script>
var mycc=0;
var myflag=0;

function f_mycc(){
  mycc++;
  document.forms["form1"].t_mycc.value = mycc;

  myflag= document.forms["form1"].acc.options.length
  document.forms["form1"].t_myflag.value += " " + myflag;
}

function remove_options(){
  var select_ = document.forms["form1"].acc;
  for( var i = (select_.options.length - 1) ; i >= 3 ; i-- ) {
      select_.options[i] = null ;
      for (var j=0;j<2000;j++)
        document.forms["form1"].t_len.value = select_.options.length;
  }
}

</script>
</head>
<body>
This test pages shows, that while the javascript is doing something
in a loop (e.g. removes 19 options from the list) - it stops processing
the onClick() events (pressing inc_mycc doesn't immediately increase the
mycc counter near the button).
<br><b><font color="#CC0000">But</font></b> the information about your
mouse clicks is stored and they will be executed later after the main loop
finishes.&nbsp; Note, though, that for some reason only approx. half of
your mouse clicks will be remembered.
<br>I was also trying to find out what if onClick events actually are being
processed - but simply not displayed until the main loop finishes? For
this purpose I use a myflag variable which is supposed to be set to the
length of the list every time you press theinc_mycc button - and also its
value is appended to the myflag text field.
<br><b><u><font color="#CC0000">Instructions:</font></u></b>
<br>press&nbsp; 'inc_mycc' button - see what it does
<br>press 'remove options' button - and while it is working - press the
'inc_mycc' several times.
<br>see what will show in mycounter and myflag fields when everything finishes.
<br><form name="form1">
<table BORDER=0 CELLSPACING=0 CELLPADDING=5 >
<tr>
<td>mycounter:&nbsp;<input type=text name='t_mycc' value='- '><input type=button name='b_mycc' value='inc_mycc'
         onClick='javascript:f_mycc(0)'>
<br>myflag:&nbsp;<input type=text name='t_myflag' value='- '></td>

<td BGCOLOR="#FFFFCC">length:&nbsp;<input type=text name='t_len' value='- '>
<br><select SIZE=10 WIDTH=50 NAME="acc" MULTIPLE><option>o0</option><option>o1</option><option>o2</option><option>o3</option><option>o4</option><option>o5</option><option>o6</option><option>o7</option><option>o8</option><option>o9</option><option>o10</option><option>o11</option><option>o12</option><option>o13</option><option>o14</option><option>o15</option><option>o16</option><option>o17</option><option>o18</option><option>o19</option><option>o20</option></select><input type=button name='b_rem_opt' value='remove options' onClick='javascript:remove_options()'></td>
</tr>
</table>
</form>
</body>
</html>
